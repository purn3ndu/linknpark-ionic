<!--
  Generated template for the Issuepost page.

  See http://ionicframework.com/docs/v2/components/#navigation for more info on
  Ionic pages and navigation.
-->
<ion-header>

  <ion-navbar>
    <ion-title>Tell us about the issue</ion-title>
  </ion-navbar>

</ion-header>


<ion-content padding [hidden]='!userReady'>

<ion-fab right top [hidden]="(img2_occ)" > 
<button ion-fab (click)="checkStoragePermission()" color="primary">
		    <ion-icon  name="images"></ion-icon>
</button>
</ion-fab>

     <div [hidden]="!img1_occ"> 
	  <ion-icon name="close-circle" class="cancel1" (click)="onCancel(1)" [hidden]="!(img1_occ)"></ion-icon><br/> 
       <img src="{{ image1 }}" id="image1"/><br/>
   
	   <ion-icon name="close-circle" class="cancel2" (click)="onCancel(2)" [hidden]="!(img2_occ)"></ion-icon><br/>
       <img src="{{ image2 }}" id="image2"/>
	 </div>

 <ion-item no-lines>
   <ion-label stacked color="primary"> Title* </ion-label>
   <ion-input #input [(ngModel)]="title" name="title"  type="text" spellcheck="false" placeholder="Enter post title" (input)="setFilteredItems()" (focus)="hasFocus()" (blur)="noFocus()" [attr.maxlength]="50"></ion-input>
 </ion-item>
 <ion-list [hidden]="!showSuggestion">
 <button ion-item *ngFor="let item of items" (tap)="setTitle(item)">
 {{item.title}}
 </button>
 </ion-list>
 
<p [hidden]="(title !=null && title.trim().length !=0) || submitted === false" ion-text color="danger" padding-left>
			Title is required
</p> 

<div text-center [hidden]="!descHidden" padding-top>
<button ion-button icon-left clear (click)="addDescription()" [hidden]="title!=null && title.trim().length <50 && img1_occ === true"><ion-icon name="add" ></ion-icon> Add Description</button>
</div>

<ion-item no-lines [hidden]="descHidden">
   <ion-label stacked color="primary">Description</ion-label>
   <ion-textarea [(ngModel)]="desc" rows="6" placeholder="Enter your description here" border:solid></ion-textarea>
 </ion-item>
<p [hidden]="(desc!=null && desc.trim().length !=0) || submitted === false || img1_occ === true" ion-text color="danger" padding-left>
			Description or image is required
</p>

 <ion-item no-lines>
<ion-checkbox [(ngModel)]="userAnonymous"></ion-checkbox><ion-label color="primary">Go Anonymous</ion-label>
 </ion-item>
 <ion-item no-lines>
  <ion-row responsive-sm>
         <ion-col>
                  <button ion-button (click)="onPostSubmit()" color="light" block>Submit</button>
         </ion-col>
  </ion-row>
</ion-item>  

</ion-content>
